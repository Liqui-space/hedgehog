const fs = require("fs");

const data = {
    labels: [
        "2022-10-02",
        "2022-10-03",
        "2022-10-04",
        "2022-10-05",
        "2022-10-06",
        "2022-10-07",
        "2022-10-08",
        "2022-10-09",
        "2022-10-10",
        "2022-10-11",
        "2022-10-12",
        "2022-10-13",
        "2022-10-14",
        "2022-10-15",
        "2022-10-16",
        "2022-10-17",
        "2022-10-18",
        "2022-10-19",
        "2022-10-20",
        "2022-10-21",
        "2022-10-22",
        "2022-10-23",
        "2022-10-24",
        "2022-10-25",
        "2022-10-26",
        "2022-10-27",
        "2022-10-28",
        "2022-10-29",
        "2022-10-30",
        "2022-10-31",
        "2022-11-01",
        "2022-11-02",
        "2022-11-03",
        "2022-11-04",
        "2022-11-05",
        "2022-11-06",
        "2022-11-07",
        "2022-11-08",
        "2022-11-09",
        "2022-11-10",
        "2022-11-11",
        "2022-11-12",
        "2022-11-13",
        "2022-11-14",
        "2022-11-15",
        "2022-11-16",
        "2022-11-17",
        "2022-11-18",
        "2022-11-19",
        "2022-11-20",
        "2022-11-21",
        "2022-11-22",
        "2022-11-23",
        "2022-11-24",
        "2022-11-25",
        "2022-11-26",
        "2022-11-27",
        "2022-11-28",
        "2022-11-29",
        "2022-11-30",
        "2022-12-01",
        "2022-12-02",
        "2022-12-03",
        "2022-12-04",
        "2022-12-05",
        "2022-12-06",
        "2022-12-07",
        "2022-12-08",
        "2022-12-09",
        "2022-12-10",
        "2022-12-11",
        "2022-12-12",
        "2022-12-13",
        "2022-12-14",
        "2022-12-15",
        "2022-12-16",
        "2022-12-17",
        "2022-12-18",
        "2022-12-19",
        "2022-12-20",
        "2022-12-21",
        "2022-12-22",
        "2022-12-23",
        "2022-12-24",
        "2022-12-25",
        "2022-12-26",
        "2022-12-27",
        "2022-12-28",
        "2022-12-29",
        "2022-12-30",
        "2022-12-31",
        "2023-01-01",
        "2023-01-02",
        "2023-01-03",
        "2023-01-04",
        "2023-01-05",
        "2023-01-06",
        "2023-01-07",
        "2023-01-08",
        "2023-01-09",
        "2023-01-10",
        "2023-01-11",
        "2023-01-12",
        "2023-01-13",
        "2023-01-14",
        "2023-01-15",
        "2023-01-16",
        "2023-01-17",
        "2023-01-18",
        "2023-01-19",
        "2023-01-20",
        "2023-01-21",
        "2023-01-22",
        "2023-01-23",
        "2023-01-24",
        "2023-01-25",
        "2023-01-26",
        "2023-01-27",
        "2023-01-28",
        "2023-01-29",
        "2023-01-30",
        "2023-01-31",
        "2023-02-01",
        "2023-02-02",
        "2023-02-03",
        "2023-02-04",
        "2023-02-05",
        "2023-02-06",
        "2023-02-07",
        "2023-02-08",
        "2023-02-09",
        "2023-02-10",
        "2023-02-11",
        "2023-02-12",
        "2023-02-13",
        "2023-02-14",
        "2023-02-15",
        "2023-02-16",
        "2023-02-17",
        "2023-02-18",
        "2023-02-19",
        "2023-02-20",
        "2023-02-21",
        "2023-02-22",
        "2023-02-23",
        "2023-02-24",
        "2023-02-25",
        "2023-02-26",
        "2023-02-27",
        "2023-02-28",
        "2023-03-01",
        "2023-03-02",
        "2023-03-03",
        "2023-03-04",
        "2023-03-05",
        "2023-03-06",
        "2023-03-07",
        "2023-03-08",
        "2023-03-09",
        "2023-03-10",
        "2023-03-11",
        "2023-03-12",
        "2023-03-13",
        "2023-03-14",
        "2023-03-15",
        "2023-03-16",
        "2023-03-17",
        "2023-03-18",
        "2023-03-19",
        "2023-03-20",
        "2023-03-21",
        "2023-03-22",
        "2023-03-23",
        "2023-03-24",
        "2023-03-25",
        "2023-03-26",
        "2023-03-27",
        "2023-03-28",
        "2023-03-29",
        "2023-03-30",
        "2023-03-31",
        "2023-04-01",
        "2023-04-02",
        "2023-04-03",
        "2023-04-04",
        "2023-04-05",
        "2023-04-06",
        "2023-04-07",
        "2023-04-08",
        "2023-04-09",
        "2023-04-10",
        "2023-04-11",
        "2023-04-12",
        "2023-04-13",
        "2023-04-14",
        "2023-04-15",
        "2023-04-16",
        "2023-04-17",
        "2023-04-18",
        "2023-04-19",
        "2023-04-20",
        "2023-04-21",
        "2023-04-22",
        "2023-04-23",
    ],
    performance: [
        0, 0, 0.69, 0.85, 0.49, 0.57, 0.75, 0.87, 0.46, 0.37, 0.62, 0, -0.17, 0.22, -0.46, -1.13, -0.97, -1.08, -0.98,
        -0.85, -0.89, -0.35, -0.2, -1.51, -2.92, -1.77, -1.91, -2.08, -1.97, -1.6, -0.96, -1.52, -1.52, -0.55, 0.03,
        0.23, 0.34, 5.28, 6.61, 8.58, 10.59, 10.86, 10.89, 11.58, 10.53, 9.24, 9.41, 9.18, 9.05, 8.67, 9.34, 8.61, 8.87,
        8.43, 9.01, 9.05, 9.5, 9.19, 9.01, 9.12, 9.07, 9, 8.71, 9.06, 9.22, 9.51, 9.32, 9.65, 9.58, 9.51, 9.35, 9.25,
        10.11, 10.11, 10.37, 10.64, 10.51, 10.52, 10.23, 10.44, 10.68, 10.47, 10.61, 10.73, 10.77, 11.59, 11.6, 11.67,
        11.72, 11.72, 11.82, 12.02, 11.92, 11.86, 11.54, 11.61, 11.46, 11.75, 11.49, 11.12, 11.17, 10.82, 10.69, 10.59,
        9.66, 9.81, 10.84, 10.49, 10.69, 9.92, 9.78, 9.47, 9.29, 9.69, 9.27, 8.73, 9.65, 10.12, 10.43, 10.23, 9.75,
        9.97, 9.33, 9.35, 9.73, 9.77, 9.7, 9.71, 9.77, 9.77, 9.51, 9.96, 9.79, 9.84, 9.83, 9.41, 8.96, 8.86, 9.01, 8.95,
        8.99, 8.99, 9.01, 9.55, 9.46, 9.91, 10, 9.84, 9.84, 9.97, 9.84, 9.84, 9.42, 9.45, 9.42, 9.37, 9.8, 9.69, 7.15,
        6.19, 5.77, 4.52, 7.26, 6.83, 7.36, 8.74, 6.69, 7.04, 7.12, 6.31, 7.13, 7.21, 7.74, 7.47, 7.78, 7.73, 7.44,
        7.34, 7.22, 7.15, 8, 8.03, 8.3, 7.8, 7.67, 7.32, 7.9, 7.52, 7.51, 7.36, 7.32, 8.25, 8.12, 8.81, 7.79, 7.98,
        7.41, 7.21, 7.13, 4.58, 4.57, 4.14, 4.14, 5.02,
    ],
};

const generateSqlQuery = (data) => {
    let query = "WITH demo_data AS (\n  SELECT \n      labels, performance\n  FROM (VALUES\n";

    for (let i = 0; i < data.labels.length; i++) {
        query += `    ('${data.labels[i]}', ${data.performance[i]})`;
        query += i < data.labels.length - 1 ? ",\n" : "\n";
    }

    query += "  ) AS t (labels, performance)\n)\n\nSELECT * FROM demo_data;";

    return query;
};

const sqlQuery = generateSqlQuery(data);
console.log(sqlQuery);

fs.writeFileSync("out.txt", sqlQuery);
